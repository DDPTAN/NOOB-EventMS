[
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": ".event-card {\n    margin-bottom: 20px;\n}\n.event-image {\n    width: 100%;\n    height: auto;\n}",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 1,
  "javascript": "frappe.ready(function () {\n    console.log(\"AAA\")\n\t// Check if the user is logged in using frappe.session.user\n\tif (frappe.session.user === \"Guest\") {\n\t\t// If the user is logged in (not Guest), redirect to the dashboard\n\t\twindow.location.href = \"/login\";\n\t}\n});\n\n$(document).ready(function() {\n            $.ajax({\n                url: 'http://event.localhost:8000/api/method/event_management.api.getEvents',\n                method: 'GET',\n                success: function(response) {\n                    if(response.message.success_key === 1) {\n                        const events = response.message.data;\n                        let eventListHtml = '';\n                        \n                        events.forEach(event => {\n                            eventListHtml += `\n                                <div class=\"col-md-4\">\n                                    <div class=\"card event-card\">\n                                        <img src=\"${event.image}\" class=\"card-img-top event-image\" alt=\"${event.event_title}\">\n                                        <div class=\"card-body\">\n                                            <h5 class=\"card-title\">${event.event_title}</h5>\n                                            <p class=\"card-text\">${event.description}</p>\n                                            <p class=\"card-text\"><strong>Organized by:</strong> ${event.organized_by}</p>\n                                            <p class=\"card-text\"><strong>Starts on:</strong> ${new Date(event.starts_on).toLocaleString()}</p>\n                                            <p class=\"card-text\"><strong>Ends on:</strong> ${new Date(event.ends_on).toLocaleString()}</p>\n                                            <p class=\"card-text\"><strong>Location:</strong> ${event.location}</p>\n                                            <p class=\"card-text\"><strong>Price:</strong> Rp ${event.price.toLocaleString('id-ID')}</p>\n                                            <p class=\"card-text\"><strong>Status:</strong> ${event.status}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            `;\n                        });\n\n                        $('#event-list').html(eventListHtml);\n                    } else {\n                        $('#event-list').html('<p>No events found.</p>');\n                    }\n                },\n                error: function() {\n                    $('#event-list').html('<p>Failed to fetch events.</p>');\n                }\n            });\n        });",
  "main_section": null,
  "main_section_html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Event List</title>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <h1 class=\"my-4\">Event List</h1>\n        <div id=\"event-list\" class=\"row\"></div>\n    </div>\n    \n    <script src=\"https://code.jquery.com/jquery-3.6.0.min.js\"></script>\n</body>\n</html>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2024-06-26 15:30:45.565365",
  "module": "Event Management System",
  "name": "event-list",
  "page_blocks": [],
  "published": 1,
  "route": "dashboard",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Event List",
  "website_sidebar": null
 }
]